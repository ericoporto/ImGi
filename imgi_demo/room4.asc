// room script file
bool can_go_next_room;
String buf, log;
ImGi_Result* res;

function room_RepExec()
{
  ImGi.Begin();
    
  if(ImGi.BeginWindow("Text Input", 170, 100, 320, 160, eImGi_Opt_AlignCenter | 
                                                        eImGi_Opt_NoClose ))
  {
    int rows[];
        
    rows = new int[1];
    rows[0] = 290;
    ImGi.LayoutRow(1, rows);
    
    if(can_go_next_room){
      if(ImGi.Button("Go  to  next  room!")) player.ChangeRoom(5, 241, 147, eDirectionDown);
    }
    
    ImGi.Text("Try the text input below!");
    ImGi.Text(log);
           
    rows = new int[2];
    rows[0] = 220;
    rows[1] = 66;
    ImGi.LayoutRow(2, rows);
        
    buf = ImGi.TextBox("input",buf, 200, res);
    
    // hiting enter or clicking submit should both add to the log!
    if(ImGi.Button("submit") || res.state == eImGi_Res_Submit)
    {
      log = log.Append(buf);
      log = log.Append("\n");
      buf = "";
      can_go_next_room = true;
    }  
  
    ImGi.EndWindow();
  }
    
  ImGi.End();  
}

function hGlowingOrb_AnyClick()
{

}

function room_Load()
{
  buf = "";
  log = "";
  res = new ImGi_Result;
}